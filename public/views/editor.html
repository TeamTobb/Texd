<div id="wrapper">
    <div id="body">
        <!-- Hints:
        <br> CTRL + P = parse
        <br> CTRL + N = new paragraph
        <br> CTRL + C = new chapter
        <br> Goto chapter (index+enter):
        <input value="" type="text" #current (keydown)="gotoChapter($event, current.value)">
        <br>-->
        <br>
        <!-- Single button with keyboard nav -->
        <div class="btn-group" dropdown keyboardNav="true">
            <button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" dropdownToggle>
                Choose chapter <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="simple-btn-keyboard-nav">
                <chapteritem (toBeDeleted)="deleteChapterFromDB(chapter.id)" [(chapterId)]="chapter.id" [(documentId)]="document.id" [(chapterName)]="chapter.header"
                *ngFor="#chapter of document.chapters; #i = index" (click)="changeChapter(i)"></chapteritem>
                <li class="divider dropdown-divider"></li>
                <li role="menuitem"><a class="dropdown-item" href="#">Something else here</a></li>
                <li class="divider dropdown-divider"></li>
                <li role="menuitem"><a class="dropdown-item" href="#">Separated link</a></li>
            </ul>
        </div>

        <br>
        <br>


        <div id="title">

            <h1 contenteditable="true" (blur)="changeDocumentTitle($event)">{{document.title}}</h1>
        </div>



        <br>
        <br>

        <div id="container">
            <div class="roundedBorder" id="center">
                <div id="buttonsContainer">
                    <button id="insertbold" style="font-weight: bold">bold</button>
                    <button id="insertbold" style="font-style: italic">italic</button>
                    <button id="insertbold" style="text-decoration: underline;">underline</button>

                </div>
                <div *ngFor='#p of document.chapters[current_chapter].paragraphs; #i = index'>
                    <!--<textarea class="testclass" id="para" type="text" [(ngModel)]="p.raw" style="width: 100%; height: 100%;" (keydown)="modifierKeyDownPress($event)"
                    (keyup)="changeDocument($event, i)"></textarea>-->
                    <!--<textarea class="testclass" id="para" type="text"style="width: 100%; height: 100%;">hei p√• dere</textarea>-->
                    <cmcomponent [index]=i [parsedParagraph]="parsedParagraph[i]" [chapterId]=document.chapters[current_chapter].id [paragraph]=p [isFocusedList]="cmFocused" [isFocused]="cmFocused[i]"
                    (outdatedParsedParagraph)="outdatedParsedParagraph(i)" (onFocusEmit)="cmOnFocusEmit(i)"></cmcomponent>

                </div>
                <!--<textarea class="testclass">{{document.chapters[0].paragraphs[0].raw}}</textarea>-->
            </div>
        </div>
    </div>
</div>
<!-- widgets -->
<div class="widget-templates">
    <span contenteditable="true" class="bold-widget"></span>
</div>