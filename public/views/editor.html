<div id="wrapper">
    <div id="title">
        <h1 contenteditable="true" (blur)="changeDocumentTitle($event)">{{document.title}}</h1>
    </div>
    <div id="body">
        Hints:
        <br>
        CTRL + P = parse
        <br>
        CTRL + N = new paragraph
        <br>
        CTRL + C = new chapter
        <br>
        Goto chapter (index+enter): <input value="" type="text" #current (keydown)="gotoChapter($event, current.value)">
        <br><br>
        <div id="container">
            <div id="left">
                <ul>
                    
                        <chapteritem  [(chapterId)]="chapter.id" [(documentId)]="document.id" [(chapterName)]="chapter.header" *ngFor="#chapter of document.chapters; #i = index"  (click)="changeChapter(i)"></chapteritem>
                   
                </ul>
            </div>
            
            
            <div id="center">
                <!-- <div *ngFor='#p of document.chapters[current_chapter].paragraphs; #i = index'
                    #current contenteditable (keydown)="modifierKeyDownPress($event)"
                    (keyup)="changeDocument($event, i, current.innerText)">
                    {{p.raw}}
                    <div #current contenteditable (keydown)="modifierKeyDownPress($event)" (keyup)="changeDocument($event, i, current.innerText)">{{p.raw}}</div>
                </div>
                -->
                <!-- <input [(ngModel)]="p.raw" (keydown)="modifierKeyDownPress($event)"
                (keyup)="changeDocument($event, i, current.innerText)"></input> -->
                <div *ngFor='#p of document.chapters[current_chapter].paragraphs; #i = index'>
                    <textarea id="para" type="text" [(ngModel)]="p.raw" style="width: 100%; height: 100%;"
                    (keydown)="modifierKeyDownPress($event)"
                    (keyup)="changeDocument($event, i)"></textarea>
                </div>
            </div>
            <div id="right">
                <iframe id="previewFrame" src="about:blank"></iframe>
            </div>
        </div>
    </div>
</div>
